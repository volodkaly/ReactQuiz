<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React Quiz App</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="index.css" rel="stylesheet" />
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const React = window.React;
      const ReactDOM = window.ReactDOM;

      const { useState } = React;

      const questions = [
        {
          title: "typeof(NaN)",
          variants: ["string", "number", "boolean"],
          correct: 1,
        },
        {
          title: "console.log([1,2,3][1])",
          variants: ["1", "2", "3"],
          correct: 1,
        },
        {
          title: "console.log('Good'.replace('g','r'))",
          variants: ["Good", "Rood"],
          correct: 0,
        },
         {
          title: "console.log('Good'.replace(/\w+/,'|$&|'))",
          variants: ["Good", "|Good|"],
          correct: 1,
        },
        {
          title: "vw unit",
          variants: [
            "% of window width",
            "% of monitor width",
            "% of monitor height",
          ],
          correct: 0,
        },
        {
          title: "console.log(NaN===NaN)",
          variants: ["true", "false", "undefined"],
          correct: 1,
        },
        {
          title: "Plain JavaScript is used for",
          variants: ["Frontend development", "Backend development"],
          correct: 0,
        },
        {
          title: "'some text'.replace(/./g,'*')",
          variants: ["**** ****", "*********", "*"],
          correct: 1,
        },
        {
          title: "'some text'.replace(/./,'*')",
          variants: ["S*** ****", "*********", "*ome text"],
          correct: 2,
        },
        {
          title: "'some text'.replace(/[a-z]/g,'*')",
          variants: ["**** ****", "some text", "*ome text"],
          correct: 0,
        },
        {
          title: "5.09.toFixed(1)",
          variants: [5.09, 5.1, 5],
          correct: 1,
        },
         {
          title: "Which is not a ready plain JavaScript method?",
          variants: ['indexOf', 'includes', 'contains'],
          correct: 2,
        },
      ];

      function Result({ correct, step }) {
        return (
          <div className="App">
            <img className="resultImage" src="https://cdn-icons-png.flaticon.com/512/2278/2278992.png" />

            
          </div>
        );
      }

      function Game({ step, question, onClickVariant }) {
        const percentage = Math.round((100 * step) / questions.length);
        return (
          <>
            <div className="progress">
              <div
                style={{ width: `${percentage}%` }}
                className="progress__inner"
              ></div>
            </div>
            <h1>{question.title}</h1>
            <ul>
              {question.variants.map((text, index) => (
                <li onClick={() => onClickVariant(index)} key={text}>
                  {text}
                </li>
              ))}
            </ul>
          </>
        );
      }

      function App() {
        const [step, setStep] = useState(0);
        const [correct, setCorrect] = useState(0);
        const question = questions[step];
        console.log(question);

        const onClickVariant = (index) => {
          setStep(step + 1);
          if (index === question.correct) {
            setCorrect(correct + 1);
          }
        };

        return (
          <div className="App">
            <h2>
              You have correctly answered {correct} questions out of{" "}
              {questions.length}
            </h2>
            {step !== questions.length ? (
              <Game
                step={step}
                question={question}
                onClickVariant={onClickVariant}
              />
            ) : (
              <Result correct={correct} />
            )}
            <button onClick={()=>window.location.reload()}>Try again</button>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(
        <React.StrictMode>
          <App />
        </React.StrictMode>
      );
    </script>
  </body>
</html>
