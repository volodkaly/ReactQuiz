<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React Quiz App</title>
    <!-- React and ReactDOM CDN links -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel standalone to compile JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Your styles can be included here -->
    <link href="index.css" rel="stylesheet" />
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      // Your App and other components' code will go here
      // ...

      // Replace import statements with const declarations
      // For example, replace "import React from 'react';" with "const React = window.React;"
      const React = window.React;
      const ReactDOM = window.ReactDOM;

      // Copy the contents of your App.js here
      // Remove "import './index.scss';" and "import { useState } from 'react';"
      // Declare useState using React.useState
      const { useState } = React;

      const questions = [
        {
          title: "typeof(NaN)",
          variants: ["string", "number", "boolean"],
          correct: 1,
        },
        {
          title: "2+5",
          variants: ["5", "6", "7"],
          correct: 2,
        },
        {
          title: "vw unit",
          variants: [
            "% of window width",
            "% of monitor width",
            "% of monitor height",
          ],
          correct: 0,
        },
        {
          title: "NaN===NaN",
          variants: ["true", "false", "undefined"],
          correct: 1,
        },
        {
          title: "Plain JavaScript is used for",
          variants: ["FE", "BE"],
          correct: 0,
        },
        {
          title: "'some text'.replace(/./g,'*')",
          variants: ["**** ****", "*********", "*"],
          correct: 1,
        },
        {
          title: "'some text'.replace(/./,'*')",
          variants: ["S*** ****", "*********", "*ome text"],
          correct: 2,
        },
        {
          title: "'some text'.replace(/[a-z]/g,'*')",
          variants: ["**** ****", "some text", "*ome text"],
          correct: 0,
        },
        {
          title: "5.09.toFixed(1)",
          variants: [5.09, 5.1, 5],
          correct: 1,
        },
      ];

      function Result({ correct, step }) {
        return (
          <div className="result">
            <img src="https://cdn-icons-png.flaticon.com/512/2278/2278992.png" />
            <h2>
              You have correctly answered {correct} questions out of{" "}
              {questions.length}
            </h2>
            <a href="/">
              <button>Try again</button>
            </a>
          </div>
        );
      }

      function Game({ step, question, onClickVariant }) {
        const percentage = Math.round((100 * step) / questions.length);
        return (
          <>
            <div className="progress">
              <div
                style={{ width: `${percentage}%` }}
                className="progress__inner"
              ></div>
            </div>
            <h1>{question.title}</h1>
            <ul>
              {question.variants.map((text, index) => (
                <li onClick={() => onClickVariant(index)} key={text}>
                  {text}
                </li>
              ))}
            </ul>
          </>
        );
      }

      function App() {
        const [step, setStep] = useState(0);
        const [correct, setCorrect] = useState(0);
        const question = questions[step];
        console.log(question);

        const onClickVariant = (index) => {
          setStep(step + 1);
          if (index === question.correct) {
            setCorrect(correct + 1);
          }
        };

        return (
          <div className="App">
            {step !== questions.length ? (
              <Game
                step={step}
                question={question}
                onClickVariant={onClickVariant}
              />
            ) : (
              <Result correct={correct} />
            )}
          </div>
        );
      }

      // Then the contents of your index.js, modified slightly:
      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(
        <React.StrictMode>
          <App />
        </React.StrictMode>
      );
    </script>
  </body>
</html>
